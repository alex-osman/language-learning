<div class="sentence-gallery">
  <h2>Sentences</h2>

  <div *ngIf="isLoading" class="loading">Loading sentences...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div class="sentences-list" *ngIf="!isLoading && !error">
    <div *ngIf="sentences.length === 0" class="no-results">
      <p>No sentences found for this scene.</p>
    </div>

    <div *ngFor="let sentence of sentences" class="sentence-card">
      <div class="sentence-content">
        <p class="chinese">{{ sentence.chinese }}</p>
        <p class="pinyin" *ngIf="sentence.pinyin">{{ sentence.pinyin }}</p>
        <p class="translation">{{ sentence.translation }}</p>
      </div>

      <div class="sentence-content">
        <div class="sentence-progress" *ngIf="sentenceAnalysisData[sentence.id]">
          <div class="progress-section">
            <span class="progress-label">
              {{ sentenceAnalysisData[sentence.id].known_percent }}% known
            </span>
            <div class="progress-bar">
              <div
                class="progress-bar-fill"
                [style.width.%]="sentenceAnalysisData[sentence.id].known_percent"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
