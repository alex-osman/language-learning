<div class="sentence-card">
  <div class="audio-controls">
    <button 
      class="play-button fast" 
      [class.playing]="playbackState === PlaybackState.PlayingFast"
      (click)="playSentenceAudio(false)">
      <span class="icon">{{ playbackState === PlaybackState.PlayingFast ? '‚èπÔ∏è' : 'üîä' }}</span>
      <span class="label">{{ playbackState === PlaybackState.PlayingFast ? 'Stop' : 'Normal' }}</span>
    </button>
    <button 
      class="play-button slow" 
      [class.playing]="playbackState === PlaybackState.PlayingSlow"
      (click)="playSentenceAudio(true)">
      <span class="icon">{{ playbackState === PlaybackState.PlayingSlow ? '‚èπÔ∏è' : 'üîä' }}</span>
      <span class="label">{{ playbackState === PlaybackState.PlayingSlow ? 'Stop' : 'Slower' }}</span>
    </button>
  </div>
  <ng-container *ngFor="let lang of displayLanguages">
    <p class="language-line" [class]="'text-' + lang.toLowerCase()">
      <strong>{{ lang }}:</strong>
      <ng-container *ngIf="lang === 'Chinese'">
        <span
          *ngFor="let mapping of sentence.characterMappings"
          class="chinese-char"
          [class.punctuation]="isPunctuation(mapping.char)"
          [class.highlighted]="isHighlighted(mapping)"
          (mouseenter)="highlightGroup(mapping)"
          (click)="playHighlightedAudio()"
          >{{ mapping.char }}</span
        >
      </ng-container>
      <ng-container *ngIf="lang === 'Pinyin'">
        <span
          *ngFor="let mapping of sentence.characterMappings"
          class="pinyin-syllable"
          [class.punctuation]="isPunctuation(mapping.char)"
          [class.highlighted]="isHighlighted(mapping)"
          (mouseenter)="highlightGroup(mapping)"
          (click)="playHighlightedAudio()"
          >{{ mapping.pinyin }}{{ needsSpace(mapping) ? " " : "" }}</span
        >
      </ng-container>
      <ng-container *ngIf="lang !== 'Chinese' && lang !== 'Pinyin'">
        {{ getLanguageText(lang) }}
      </ng-container>
    </p>
  </ng-container>
</div> 